var m=Object.defineProperty,d=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var o=(r,t,e)=>t in r?m(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,n=(r,t)=>{for(var e in t||(t={}))g.call(t,e)&&o(r,e,t[e]);if(l)for(var e of l(t))h.call(t,e)&&o(r,e,t[e]);return r},c=(r,t)=>d(r,u(t));import{T as f,b as p,m as x,F as v,n as w,s as i}from"./app.js";import{g as _}from"./vform.es.js";import{O as b}from"./OpenFormFooter.js";import{E as y}from"./ExtraMenu.js";import"./FormTemplateModal.js";const C=function(){i.commit("open/forms/startLoading"),i.dispatch("open/workspaces/loadIfEmpty").then(()=>{i.dispatch("open/forms/loadIfEmpty",i.state["open/workspaces"].currentId)})},k={components:{OpenFormFooter:b,TextInput:f,ExtraMenu:y},beforeRouteEnter(r,t,e){C(),e()},middleware:"auth",props:{metaTitle:{type:String,default:"Your Forms"},metaDescription:{type:String,default:"All of your  are here. Create new forms, or update your existing one!"}},data(){return{showEditFormModal:!1,selectedForm:null,searchForm:new _({search:""}),selectedTags:[]}},mounted(){},methods:{editForm(r){this.selectedForm=r,this.showEditFormModal=!0},onTagClick(r){const t=this.selectedTags.indexOf(r);t===-1?this.selectedTags.push(r):this.selectedTags.splice(t,1)},viewForm(r){this.$router.push({name:"forms.show",params:{slug:r.slug}})}},computed:c(n(n({},p({user:"auth/user"})),x({forms:r=>r["open/forms"].content,formsLoading:r=>r["open/forms"].loading})),{isFilteringForms(){return this.searchForm.search!==""&&this.searchForm.search!==null||this.selectedTags.length>0},enrichedForms(){let r=this.forms.map(s=>(s.workspace=this.$store.getters["open/workspaces/getById"](s.workspace_id),s));if(this.selectedTags.length>0&&(r=r.filter(s=>s.tags&&s.tags.length>0?this.selectedTags.every(a=>s.tags.includes(a)):!1)),!this.isFilteringForms||this.searchForm.search===""||this.searchForm.search===null)return r;const t={keys:["title","slug","tags"]};return new v(r,t).search(this.searchForm.search).map(s=>s.item)},allTags(){return this.$store.getters["open/forms/getAllTags"]}})};var F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white"},[e("div",{staticClass:"flex bg-gray-50 pb-5"},[e("div",{staticClass:"w-full md:w-4/5 lg:w-3/5 md:mx-auto md:max-w-4xl p-4"},[e("div",{staticClass:"pt-4 pb-0"},[e("div",{staticClass:"flex"},[e("h2",{staticClass:"flex-grow text-gray-900"},[t._v(" Your Forms ")]),e("v-button",{directives:[{name:"track",rawName:"v-track.create_form_click",modifiers:{create_form_click:!0}}],attrs:{to:{name:"forms.create"}}},[e("svg",{staticClass:"w-4 h-4 text-white inline mr-1 -mt-1",attrs:{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M6.99996 1.1665V12.8332M1.16663 6.99984H12.8333",stroke:"currentColor","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}})]),t._v(" Create a new form ")])],1),e("small",{staticClass:"flex text-gray-500"},[t._v("Manage your forms and submissions.")])])])]),e("div",{staticClass:"flex bg-white"},[e("div",{staticClass:"w-full md:w-4/5 lg:w-3/5 md:mx-auto md:max-w-4xl px-4"},[e("div",{staticClass:"mt-8 pb-0"},[t.forms.length>0?e("text-input",{staticClass:"mb-6",attrs:{form:t.searchForm,name:"search",label:"Search a form",placeholder:"Name of form to search"}}):t._e(),t.allTags.length>0?e("div",{staticClass:"mb-4"},t._l(t.allTags,function(s){return e("div",{key:s,class:["inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ring-1 ring-inset cursor-pointer mr-2",{"bg-blue-50 text-blue-600 ring-blue-500/10 dark:bg-blue-400":t.selectedTags.includes(s),"bg-gray-50 text-gray-600 ring-gray-500/10 dark:bg-gray-700 hover:bg-blue-50 hover:text-blue-600 hover:ring-blue-500/10 hover:dark:bg-blue-400":!t.selectedTags.includes(s)}],attrs:{title:"Click for filter by tag(s)"},on:{click:function(a){return t.onTagClick(s)}}},[t._v(" "+t._s(s)+" ")])}),0):t._e(),!t.formsLoading&&t.enrichedForms.length===0?e("div",{staticClass:"flex flex-wrap justify-center max-w-4xl"},[e("img",{staticClass:"w-56",attrs:{loading:"lazy",src:t.asset("img/pages/forms/search_notfound.png"),alt:"search-not-found"}}),e("h3",{staticClass:"w-full mt-4 text-center text-gray-900 font-semibold"},[t._v("No forms found")]),t.isFilteringForms&&t.enrichedForms.length===0&&t.searchForm.search?e("div",{staticClass:"mt-2 w-full text-center"},[t._v(' Your search "'+t._s(t.searchForm.search)+'" did not match any forms. Please try again. ')]):t._e(),t.forms.length===0?e("v-button",{directives:[{name:"track",rawName:"v-track.create_form_click",modifiers:{create_form_click:!0}}],staticClass:"mt-4",attrs:{to:{name:"forms.create"}}},[e("svg",{staticClass:"w-4 h-4 text-white inline mr-1 -mt-1",attrs:{viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M6.99996 1.1665V12.8332M1.16663 6.99984H12.8333",stroke:"currentColor","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}})]),t._v(" Create a new form ")]):t._e()],1):t.forms.length>0?e("div",{staticClass:"mb-10"},[t.enrichedForms&&t.enrichedForms.length?e("div",t._l(t.enrichedForms,function(s){return e("div",{key:s.id,staticClass:"mt-4 p-4 flex group bg-white hover:bg-gray-50 dark:bg-notion-dark items-center"},[e("div",{staticClass:"flex-grow items-center truncate cursor-pointer",attrs:{role:"button"},on:{click:function(a){return a.preventDefault(),t.viewForm(s)}}},[e("span",{staticClass:"font-semibold text-gray-900 dark:text-white"},[t._v(t._s(s.title))]),e("ul",{staticClass:"flex text-gray-500"},[e("li",{staticClass:"pr-1"},[t._v(t._s(s.views_count)+" view"+t._s(s.views_count>0?"s":""))]),e("li",{staticClass:"list-disc ml-6 pr-1"},[t._v(t._s(s.submissions_count)+" submission"+t._s(s.submissions_count>0?"s":"")+" ")]),e("li",{staticClass:"list-disc ml-6"},[t._v("Edited "+t._s(s.last_edited_human))])]),["draft","closed"].includes(s.visibility)||s.tags&&s.tags.length>0?e("div",{staticClass:"mt-1 flex items-center flex-wrap gap-3"},[s.visibility=="draft"?e("span",{staticClass:"inline-flex items-center rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-600 ring-1 ring-inset ring-gray-500/10 dark:text-white dark:bg-gray-700"},[t._v(" Draft ")]):s.visibility=="closed"?e("span",{staticClass:"inline-flex items-center rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-600 ring-1 ring-inset ring-gray-500/10 dark:text-white dark:bg-gray-700"},[t._v(" Closed ")]):t._e(),t._l(s.tags,function(a,E){return e("span",{key:a,staticClass:"inline-flex items-center rounded-full bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10 dark:text-white dark:bg-gray-700"},[t._v(" "+t._s(a)+" ")])})],2):t._e()]),e("extra-menu",{attrs:{form:s,isMainPage:!0}})],1)}),0):t._e()]):t._e(),t.formsLoading?e("div",{staticClass:"text-center"},[e("loader",{staticClass:"h-6 w-6 text-nt-blue mx-auto"})],1):t._e()],1)])]),e("open-form-footer",{staticClass:"mt-8 border-t"})],1)},T=[],M=w(k,F,T,!1,null,null,null,null);const j=M.exports;export{j as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9tZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcmVzb3VyY2VzL2pzL3BhZ2VzL2hvbWUudnVlIl0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImJnLXdoaXRlXCI+XG4gICAgPGRpdiBjbGFzcz1cImZsZXggYmctZ3JheS01MCBwYi01XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidy1mdWxsIG1kOnctNC81IGxnOnctMy81IG1kOm14LWF1dG8gbWQ6bWF4LXctNHhsIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHQtNCBwYi0wXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXhcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzcz1cImZsZXgtZ3JvdyB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgIFlvdXIgRm9ybXNcbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8di1idXR0b24gdi10cmFjay5jcmVhdGVfZm9ybV9jbGljayA6dG89XCJ7bmFtZTonZm9ybXMuY3JlYXRlJ31cIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTQgdGV4dC13aGl0ZSBpbmxpbmUgbXItMSAtbXQtMVwiIHZpZXdCb3g9XCIwIDAgMTQgMTRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTYuOTk5OTYgMS4xNjY1VjEyLjgzMzJNMS4xNjY2MyA2Ljk5OTg0SDEyLjgzMzNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjY3XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgQ3JlYXRlIGEgbmV3IGZvcm1cbiAgICAgICAgICAgIDwvdi1idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHNtYWxsIGNsYXNzPVwiZmxleCB0ZXh0LWdyYXktNTAwXCI+TWFuYWdlIHlvdXIgZm9ybXMgYW5kIHN1Ym1pc3Npb25zLjwvc21hbGw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZsZXggYmctd2hpdGVcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgbWQ6dy00LzUgbGc6dy0zLzUgbWQ6bXgtYXV0byBtZDptYXgtdy00eGwgcHgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtOCBwYi0wXCI+XG4gICAgICAgICAgPHRleHQtaW5wdXQgdi1pZj1cImZvcm1zLmxlbmd0aCA+IDBcIiBjbGFzcz1cIm1iLTZcIiA6Zm9ybT1cInNlYXJjaEZvcm1cIiBuYW1lPVwic2VhcmNoXCIgbGFiZWw9XCJTZWFyY2ggYSBmb3JtXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5hbWUgb2YgZm9ybSB0byBzZWFyY2hcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiB2LWlmPVwiYWxsVGFncy5sZW5ndGggPiAwXCIgY2xhc3M9XCJtYi00XCI+XG4gICAgICAgICAgICA8ZGl2IHYtZm9yPVwidGFnIGluIGFsbFRhZ3NcIiA6a2V5PVwidGFnXCJcbiAgICAgICAgICAgICAgICAgOmNsYXNzPVwiW1xuICAgICAgICAgICAgICAgICAgICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHJpbmctMSByaW5nLWluc2V0IGN1cnNvci1wb2ludGVyIG1yLTInLFxuICAgICAgICAgICAgICAgICAgIHsnYmctYmx1ZS01MCB0ZXh0LWJsdWUtNjAwIHJpbmctYmx1ZS01MDAvMTAgZGFyazpiZy1ibHVlLTQwMCc6c2VsZWN0ZWRUYWdzLmluY2x1ZGVzKHRhZyksXG4gICAgICAgICAgICAgICAgICAgICdiZy1ncmF5LTUwIHRleHQtZ3JheS02MDAgcmluZy1ncmF5LTUwMC8xMCBkYXJrOmJnLWdyYXktNzAwIGhvdmVyOmJnLWJsdWUtNTAgaG92ZXI6dGV4dC1ibHVlLTYwMCBob3ZlcjpyaW5nLWJsdWUtNTAwLzEwIGhvdmVyOmRhcms6YmctYmx1ZS00MDAnOiFzZWxlY3RlZFRhZ3MuaW5jbHVkZXModGFnKX1cbiAgICAgICAgICAgICAgICAgXVwiXG4gICAgICAgICAgICAgICAgIHRpdGxlPVwiQ2xpY2sgZm9yIGZpbHRlciBieSB0YWcocylcIlxuICAgICAgICAgICAgICAgICBAY2xpY2s9XCJvblRhZ0NsaWNrKHRhZylcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7eyB0YWcgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgdi1pZj1cIiFmb3Jtc0xvYWRpbmcgJiYgZW5yaWNoZWRGb3Jtcy5sZW5ndGggPT09IDBcIiBjbGFzcz1cImZsZXggZmxleC13cmFwIGp1c3RpZnktY2VudGVyIG1heC13LTR4bFwiPlxuICAgICAgICAgICAgPGltZyBsb2FkaW5nPVwibGF6eVwiIGNsYXNzPVwidy01NlwiXG4gICAgICAgICAgICAgICAgICA6c3JjPVwiYXNzZXQoJ2ltZy9wYWdlcy9mb3Jtcy9zZWFyY2hfbm90Zm91bmQucG5nJylcIiBhbHQ9XCJzZWFyY2gtbm90LWZvdW5kXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJ3LWZ1bGwgbXQtNCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktOTAwIGZvbnQtc2VtaWJvbGRcIj5ObyBmb3JtcyBmb3VuZDwvaDM+XG4gICAgICAgICAgICA8ZGl2IHYtaWY9XCJpc0ZpbHRlcmluZ0Zvcm1zICYmIGVucmljaGVkRm9ybXMubGVuZ3RoID09PSAwICYmIHNlYXJjaEZvcm0uc2VhcmNoXCIgY2xhc3M9XCJtdC0yIHctZnVsbCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICBZb3VyIHNlYXJjaCBcInt7c2VhcmNoRm9ybS5zZWFyY2h9fVwiIGRpZCBub3QgbWF0Y2ggYW55IGZvcm1zLiBQbGVhc2UgdHJ5IGFnYWluLlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8di1idXR0b24gdi1pZj1cImZvcm1zLmxlbmd0aCA9PT0gMFwiIGNsYXNzPVwibXQtNFwiIHYtdHJhY2suY3JlYXRlX2Zvcm1fY2xpY2sgOnRvPVwie25hbWU6J2Zvcm1zLmNyZWF0ZSd9XCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTQgaC00IHRleHQtd2hpdGUgaW5saW5lIG1yLTEgLW10LTFcIiB2aWV3Qm94PVwiMCAwIDE0IDE0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZD1cIk02Ljk5OTk2IDEuMTY2NVYxMi44MzMyTTEuMTY2NjMgNi45OTk4NEgxMi44MzMzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS42N1wiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIENyZWF0ZSBhIG5ldyBmb3JtXG4gICAgICAgICAgICA8L3YtYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgdi1lbHNlLWlmPVwiZm9ybXMubGVuZ3RoID4gMFwiIGNsYXNzPVwibWItMTBcIj5cbiAgICAgICAgICAgIDxkaXYgdi1pZj1cImVucmljaGVkRm9ybXMgJiYgZW5yaWNoZWRGb3Jtcy5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgPGRpdiB2LWZvcj1cIihmb3JtKSBpbiBlbnJpY2hlZEZvcm1zXCIgOmtleT1cImZvcm0uaWRcIlxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtdC00IHAtNCBmbGV4IGdyb3VwIGJnLXdoaXRlIGhvdmVyOmJnLWdyYXktNTAgZGFyazpiZy1ub3Rpb24tZGFyayBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtZ3JvdyBpdGVtcy1jZW50ZXIgdHJ1bmNhdGUgY3Vyc29yLXBvaW50ZXJcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrLnByZXZlbnQ9XCJ2aWV3Rm9ybShmb3JtKVwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+e3sgZm9ybS50aXRsZSB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImZsZXggdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJwci0xXCI+e3sgZm9ybS52aWV3c19jb3VudCB9fSB2aWV3e3sgZm9ybS52aWV3c19jb3VudCA+IDAgPyAncycgOiAnJyB9fTwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpc3QtZGlzYyBtbC02IHByLTFcIj57eyBmb3JtLnN1Ym1pc3Npb25zX2NvdW50IH19XG4gICAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnt7IGZvcm0uc3VibWlzc2lvbnNfY291bnQgPiAwID8gJ3MnIDogJycgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGlzdC1kaXNjIG1sLTZcIj5FZGl0ZWQge3sgZm9ybS5sYXN0X2VkaXRlZF9odW1hbiB9fTwvbGk+XG4gICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgPGRpdiB2LWlmPVwiWydkcmFmdCcsJ2Nsb3NlZCddLmluY2x1ZGVzKGZvcm0udmlzaWJpbGl0eSkgfHwgKGZvcm0udGFncyAmJiBmb3JtLnRhZ3MubGVuZ3RoID4gMClcIiBjbGFzcz1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgZmxleC13cmFwIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJmb3JtLnZpc2liaWxpdHk9PSdkcmFmdCdcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBiZy15ZWxsb3ctMTAwIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQteWVsbG93LTYwMCByaW5nLTEgcmluZy1pbnNldCByaW5nLWdyYXktNTAwLzEwIGRhcms6dGV4dC13aGl0ZSBkYXJrOmJnLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgRHJhZnRcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LWVsc2UtaWY9XCJmb3JtLnZpc2liaWxpdHk9PSdjbG9zZWQnXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgYmcteWVsbG93LTEwMCBweC0yIHB5LTEgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LXllbGxvdy02MDAgcmluZy0xIHJpbmctaW5zZXQgcmluZy1ncmF5LTUwMC8xMCBkYXJrOnRleHQtd2hpdGUgZGFyazpiZy1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIENsb3NlZFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtZm9yPVwiKHRhZyxpKSBpbiBmb3JtLnRhZ3NcIiA6a2V5PVwidGFnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTUwIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAgcmluZy0xIHJpbmctaW5zZXQgcmluZy1ncmF5LTUwMC8xMCBkYXJrOnRleHQtd2hpdGUgZGFyazpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7eyB0YWcgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGV4dHJhLW1lbnUgOmZvcm09XCJmb3JtXCIgOmlzTWFpblBhZ2U9XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCJmb3Jtc0xvYWRpbmdcIiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8bG9hZGVyIGNsYXNzPVwiaC02IHctNiB0ZXh0LW50LWJsdWUgbXgtYXV0b1wiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPG9wZW4tZm9ybS1mb290ZXIgY2xhc3M9XCJtdC04IGJvcmRlci10XCIgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHN0b3JlIGZyb20gJ34vc3RvcmUnXG5pbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnXG5pbXBvcnQgRnVzZSBmcm9tICdmdXNlLmpzJ1xuaW1wb3J0IEZvcm0gZnJvbSAndmZvcm0nXG5pbXBvcnQgVGV4dElucHV0IGZyb20gJy4uL2NvbXBvbmVudHMvZm9ybXMvVGV4dElucHV0LnZ1ZSdcbmltcG9ydCBPcGVuRm9ybUZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL3BhZ2VzL09wZW5Gb3JtRm9vdGVyLnZ1ZSdcbmltcG9ydCBFeHRyYU1lbnUgZnJvbSAnLi4vY29tcG9uZW50cy9wYWdlcy9mb3Jtcy9zaG93L0V4dHJhTWVudS52dWUnXG5cbmNvbnN0IGxvYWRGb3JtcyA9IGZ1bmN0aW9uICgpIHtcbiAgc3RvcmUuY29tbWl0KCdvcGVuL2Zvcm1zL3N0YXJ0TG9hZGluZycpXG4gIHN0b3JlLmRpc3BhdGNoKCdvcGVuL3dvcmtzcGFjZXMvbG9hZElmRW1wdHknKS50aGVuKCgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCgnb3Blbi9mb3Jtcy9sb2FkSWZFbXB0eScsIHN0b3JlLnN0YXRlWydvcGVuL3dvcmtzcGFjZXMnXS5jdXJyZW50SWQpXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50czogeyBPcGVuRm9ybUZvb3RlciwgVGV4dElucHV0LCBFeHRyYU1lbnUgfSxcblxuICBiZWZvcmVSb3V0ZUVudGVyICh0bywgZnJvbSwgbmV4dCkge1xuICAgIGxvYWRGb3JtcygpXG4gICAgbmV4dCgpXG4gIH0sXG4gIG1pZGRsZXdhcmU6ICdhdXRoJyxcblxuICBwcm9wczoge1xuICAgIG1ldGFUaXRsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdZb3VyIEZvcm1zJyB9LFxuICAgIG1ldGFEZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdBbGwgb2YgeW91ciAgYXJlIGhlcmUuIENyZWF0ZSBuZXcgZm9ybXMsIG9yIHVwZGF0ZSB5b3VyIGV4aXN0aW5nIG9uZSEnIH1cbiAgfSxcblxuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd0VkaXRGb3JtTW9kYWw6IGZhbHNlLFxuICAgICAgc2VsZWN0ZWRGb3JtOiBudWxsLFxuICAgICAgc2VhcmNoRm9ybTogbmV3IEZvcm0oe1xuICAgICAgICBzZWFyY2g6ICcnXG4gICAgICB9KSxcbiAgICAgIHNlbGVjdGVkVGFnczogW11cbiAgICB9XG4gIH0sXG5cbiAgbW91bnRlZCAoKSB7fSxcblxuICBtZXRob2RzOiB7XG4gICAgZWRpdEZvcm0gKGZvcm0pIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRGb3JtID0gZm9ybVxuICAgICAgdGhpcy5zaG93RWRpdEZvcm1Nb2RhbCA9IHRydWVcbiAgICB9LFxuICAgIG9uVGFnQ2xpY2sgKHRhZykge1xuICAgICAgY29uc3QgaWR4ID0gdGhpcy5zZWxlY3RlZFRhZ3MuaW5kZXhPZih0YWcpXG4gICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGFncy5wdXNoKHRhZylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWdzLnNwbGljZShpZHgsIDEpXG4gICAgICB9XG4gICAgfSxcbiAgICB2aWV3Rm9ybSAoZm9ybSkge1xuICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdmb3Jtcy5zaG93JywgcGFyYW1zOiB7c2x1ZzogZm9ybS5zbHVnfX0pXG4gICAgfVxuICB9LFxuXG4gIGNvbXB1dGVkOiB7XG4gICAgLi4ubWFwR2V0dGVycyh7XG4gICAgICB1c2VyOiAnYXV0aC91c2VyJ1xuICAgIH0pLFxuICAgIC4uLm1hcFN0YXRlKHtcbiAgICAgIGZvcm1zOiBzdGF0ZSA9PiBzdGF0ZVsnb3Blbi9mb3JtcyddLmNvbnRlbnQsXG4gICAgICBmb3Jtc0xvYWRpbmc6IHN0YXRlID0+IHN0YXRlWydvcGVuL2Zvcm1zJ10ubG9hZGluZ1xuICAgIH0pLFxuICAgIGlzRmlsdGVyaW5nRm9ybXMgKCkge1xuICAgICAgcmV0dXJuICh0aGlzLnNlYXJjaEZvcm0uc2VhcmNoICE9PSAnJyAmJiB0aGlzLnNlYXJjaEZvcm0uc2VhcmNoICE9PSBudWxsKSB8fCB0aGlzLnNlbGVjdGVkVGFncy5sZW5ndGggPiAwXG4gICAgfSxcbiAgICBlbnJpY2hlZEZvcm1zICgpIHtcbiAgICAgIGxldCBlbnJpY2hlZEZvcm1zID0gdGhpcy5mb3Jtcy5tYXAoKGZvcm0pID0+IHtcbiAgICAgICAgZm9ybS53b3Jrc3BhY2UgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydvcGVuL3dvcmtzcGFjZXMvZ2V0QnlJZCddKGZvcm0ud29ya3NwYWNlX2lkKVxuICAgICAgICByZXR1cm4gZm9ybVxuICAgICAgfSlcblxuICAgICAgLy8gRmlsdGVyIGJ5IFNlbGVjdGVkIFRhZ3NcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkVGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGVucmljaGVkRm9ybXMgPSBlbnJpY2hlZEZvcm1zLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiAoaXRlbS50YWdzICYmIGl0ZW0udGFncy5sZW5ndGggPiAwKSA/IHRoaXMuc2VsZWN0ZWRUYWdzLmV2ZXJ5KHIgPT4gaXRlbS50YWdzLmluY2x1ZGVzKHIpKSA6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5pc0ZpbHRlcmluZ0Zvcm1zIHx8IHRoaXMuc2VhcmNoRm9ybS5zZWFyY2ggPT09ICcnIHx8IHRoaXMuc2VhcmNoRm9ybS5zZWFyY2ggPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGVucmljaGVkRm9ybXNcbiAgICAgIH1cblxuICAgICAgLy8gRnV6ZSBzZWFyY2hcbiAgICAgIGNvbnN0IGZ1emVPcHRpb25zID0ge1xuICAgICAgICBrZXlzOiBbXG4gICAgICAgICAgJ3RpdGxlJyxcbiAgICAgICAgICAnc2x1ZycsXG4gICAgICAgICAgJ3RhZ3MnXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGZ1c2UgPSBuZXcgRnVzZShlbnJpY2hlZEZvcm1zLCBmdXplT3B0aW9ucylcbiAgICAgIHJldHVybiBmdXNlLnNlYXJjaCh0aGlzLnNlYXJjaEZvcm0uc2VhcmNoKS5tYXAoKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gcmVzLml0ZW1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBhbGxUYWdzICgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydvcGVuL2Zvcm1zL2dldEFsbFRhZ3MnXVxuICAgIH1cbiAgfVxufVxuPC9zY3JpcHQ+XG4iXSwibmFtZXMiOlsibG9hZEZvcm1zIiwic3RvcmUiLCJfc2ZjX21haW4iLCJPcGVuRm9ybUZvb3RlciIsIlRleHRJbnB1dCIsIkV4dHJhTWVudSIsInRvIiwiZnJvbSIsIm5leHQiLCJGb3JtIiwiZm9ybSIsInRhZyIsImlkeCIsIl9fc3ByZWFkUHJvcHMiLCJfX3NwcmVhZFZhbHVlcyIsIm1hcEdldHRlcnMiLCJtYXBTdGF0ZSIsInN0YXRlIiwiZW5yaWNoZWRGb3JtcyIsIml0ZW0iLCJyIiwiZnV6ZU9wdGlvbnMiLCJGdXNlIiwicmVzIl0sIm1hcHBpbmdzIjoieW5CQTBHQSxNQUFBQSxFQUFBLFVBQUEsQ0FDQUMsRUFBQSxPQUFBLHlCQUFBLEVBQ0FBLEVBQUEsU0FBQSw2QkFBQSxFQUFBLEtBQUEsSUFBQSxDQUNBQSxFQUFBLFNBQUEseUJBQUFBLEVBQUEsTUFBQSxpQkFBQSxFQUFBLFNBQUEsQ0FDQSxDQUFBLENBQ0EsRUFFQUMsRUFBQSxDQUNBLFdBQUEsQ0FBQSxlQUFBQyxFQUFBLFVBQUFDLEVBQUEsVUFBQUMsQ0FBQSxFQUVBLGlCQUFBQyxFQUFBQyxFQUFBQyxFQUFBLENBQ0FSLEVBQUEsRUFDQVEsRUFBQSxDQUNBLEVBQ0EsV0FBQSxPQUVBLE1BQUEsQ0FDQSxVQUFBLENBQUEsS0FBQSxPQUFBLFFBQUEsWUFBQSxFQUNBLGdCQUFBLENBQUEsS0FBQSxPQUFBLFFBQUEsdUVBQUEsQ0FDQSxFQUVBLE1BQUEsQ0FDQSxNQUFBLENBQ0Esa0JBQUEsR0FDQSxhQUFBLEtBQ0EsV0FBQSxJQUFBQyxFQUFBLENBQ0EsT0FBQSxFQUNBLENBQUEsRUFDQSxhQUFBLENBQUEsQ0FDQSxDQUNBLEVBRUEsU0FBQSxDQUFBLEVBRUEsUUFBQSxDQUNBLFNBQUFDLEVBQUEsQ0FDQSxLQUFBLGFBQUFBLEVBQ0EsS0FBQSxrQkFBQSxFQUNBLEVBQ0EsV0FBQUMsRUFBQSxDQUNBLE1BQUFDLEVBQUEsS0FBQSxhQUFBLFFBQUFELENBQUEsRUFDQUMsSUFBQSxHQUNBLEtBQUEsYUFBQSxLQUFBRCxDQUFBLEVBRUEsS0FBQSxhQUFBLE9BQUFDLEVBQUEsQ0FBQSxDQUVBLEVBQ0EsU0FBQUYsRUFBQSxDQUNBLEtBQUEsUUFBQSxLQUFBLENBQUEsS0FBQSxhQUFBLE9BQUEsQ0FBQSxLQUFBQSxFQUFBLElBQUEsQ0FBQSxDQUFBLENBQ0EsQ0FDQSxFQUVBLFNBQUFHLEVBQUFDLElBQUEsR0FDQUMsRUFBQSxDQUNBLEtBQUEsV0FDQSxDQUFBLEdBQ0FDLEVBQUEsQ0FDQSxNQUFBQyxHQUFBQSxFQUFBLFlBQUEsRUFBQSxRQUNBLGFBQUFBLEdBQUFBLEVBQUEsWUFBQSxFQUFBLE9BQ0EsQ0FBQSxHQVBBLENBUUEsa0JBQUEsQ0FDQSxPQUFBLEtBQUEsV0FBQSxTQUFBLElBQUEsS0FBQSxXQUFBLFNBQUEsTUFBQSxLQUFBLGFBQUEsT0FBQSxDQUNBLEVBQ0EsZUFBQSxDQUNBLElBQUFDLEVBQUEsS0FBQSxNQUFBLElBQUFSLElBQ0FBLEVBQUEsVUFBQSxLQUFBLE9BQUEsUUFBQSx5QkFBQSxFQUFBQSxFQUFBLFlBQUEsRUFDQUEsRUFDQSxFQVNBLEdBTkEsS0FBQSxhQUFBLE9BQUEsSUFDQVEsRUFBQUEsRUFBQSxPQUFBQyxHQUNBQSxFQUFBLE1BQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxhQUFBLE1BQUFDLEdBQUFELEVBQUEsS0FBQSxTQUFBQyxDQUFBLENBQUEsRUFBQSxFQUNBLEdBR0EsQ0FBQSxLQUFBLGtCQUFBLEtBQUEsV0FBQSxTQUFBLElBQUEsS0FBQSxXQUFBLFNBQUEsS0FDQSxPQUFBRixFQUlBLE1BQUFHLEVBQUEsQ0FDQSxLQUFBLENBQ0EsUUFDQSxPQUNBLE1BQ0EsQ0FDQSxFQUVBLE9BREEsSUFBQUMsRUFBQUosRUFBQUcsQ0FBQSxFQUNBLE9BQUEsS0FBQSxXQUFBLE1BQUEsRUFBQSxJQUFBRSxHQUNBQSxFQUFBLElBQ0EsQ0FDQSxFQUNBLFNBQUEsQ0FDQSxPQUFBLEtBQUEsT0FBQSxRQUFBLHVCQUFBLENBQ0EsQ0FDQSxFQUNBIn0=
